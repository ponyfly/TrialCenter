webpackJsonp([3],{"02w1":function(e,t,i){"use strict";t.__esModule=!0;var s="undefined"==typeof window,n=function(){if(!s){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}}(),a=function(){if(!s){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}}(),r=function(e){var t=e.__resizeTrigger__,i=t.firstElementChild,s=t.lastElementChild,n=i.firstElementChild;s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight,n.style.width=i.offsetWidth+1+"px",n.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},o=function(e){var t=this;r(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=n(function(){var i;((i=t).offsetWidth!==i.__resizeLast__.width||i.offsetHeight!==i.__resizeLast__.height)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(i){i.call(t,e)}))})},l=s?{}:document.attachEvent,c="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u="resizeanim",f=!1,h="",p="animationstart";if(!l&&!s){var _=document.createElement("fakeelement");if(void 0!==_.style.animationName&&(f=!0),!1===f)for(var v="",m=0;m<c.length;m++)if(void 0!==_.style[c[m]+"AnimationName"]){v=c[m],h="-"+v.toLowerCase()+"-",p=d[m],f=!0;break}}var b=!1;t.addResizeListener=function(e,t){if(!s)if(l)e.attachEvent("onresize",t);else{if(!e.__resizeTrigger__){"static"===getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!b&&!s){var e="@"+h+"keyframes "+u+" { from { opacity: 0; } to { opacity: 0; } } \n      .resize-triggers { "+h+"animation: 1ms "+u+'; visibility: hidden; opacity: 0; }\n      .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1 }\n      .resize-triggers > div { background: #eee; overflow: auto; }\n      .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i),b=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[];var i=e.__resizeTrigger__=document.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),r(e),e.addEventListener("scroll",o,!0),p&&i.addEventListener(p,function(t){t.animationName===u&&r(e)})}e.__resizeListeners__.push(t)}},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(l?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",o),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__))))}},"099G":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Gu7T"),n=i.n(s),a=(i("DSCY"),i("+BTi"),i("LaeV")),r=i.n(a),o=(i("IxJZ"),i("NoPp")),l=i.n(o),c=(i("GXEp"),i("mtrD")),d=i.n(c),u=i("GQaK"),f=i("Cz8s"),h=i("woOf"),p=i.n(h),_={props:{endTime:{type:Number}},data:function(){return{deadline:this.endTime,remainingTime:{}}},computed:{isOverDeadline:function(){if(this.deadline)return this.deadline<new Date}},methods:{getRemainingTime:function(){var e=this.deadline-new Date,t=parseInt(e/1e3/60/60/24,10),i=parseInt(e/1e3/60/60%24,10),s=parseInt(e/1e3/60%60,10);t=this.addZero(t),i=this.addZero(i),s=this.addZero(s),this.remainingTime=p()({},{leftDays:t,leftHours:i,leftMinutes:s}),setTimeout(this.getRemainingTime,6e4)},addZero:function(e){return e<10?"0"+e:e}},created:function(){this.deadline&&this.getRemainingTime()}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return this.deadline?t("div",{staticClass:"deadline"},[t("i",{staticClass:"icon_clock"}),this._v(" "),t("span",[this._v(this._s(this.isOverDeadline?"已结束":"距结束："))]),this._v(" "),this.isOverDeadline?this._e():t("div",{staticClass:"time_wrapper"},[t("span",{staticClass:"time"},[this._v(this._s(this.remainingTime.leftDays))]),this._v("天"),t("span",{staticClass:"time"},[this._v(this._s(this.remainingTime.leftHours))]),this._v("时"),t("span",{staticClass:"time"},[this._v(this._s(this.remainingTime.leftMinutes))]),this._v("分\n  ")])]):this._e()},staticRenderFns:[]};var m=i("VU/8")(_,v,!1,function(e){i("3y1R")},null,null).exports,b={name:"slide",props:{length:{type:Number},loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},showDot:{type:Boolean,default:!0},click:{type:Boolean,default:!0},threshold:{type:Number,default:.3},speed:{type:Number,default:400}},data:function(){return{dots:[],currentPageIndex:0}},mounted:function(){var e=this;this.update(),window.addEventListener("resize",function(){e.slide&&e.slide.enabled&&(clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.slide.isInTransition?e._onScrollEnd():e.autoPlay&&e._play(),e.refresh()},60))})},activated:function(){if(this.slide){this.slide.enable();var e=this.slide.getCurrentPage().pageX;this.slide.goToPage(e,0,0),this.currentPageIndex=e,this.autoPlay&&this._play()}},deactivated:function(){this.slide.disable(),clearTimeout(this.timer)},beforeDestroy:function(){this.slide.disable(),clearTimeout(this.timer)},methods:{update:function(){var e=this;this.slide&&this.slide.destroy(),this.$nextTick(function(){e.init()})},refresh:function(){this._setSlideWidth(!0),this.slide.refresh()},prev:function(){this.slide.prev()},next:function(){this.slide.next()},init:function(){clearTimeout(this.timer),this.currentPageIndex=0,this._setSlideWidth(),this.showDot&&this._initDots(),this._initSlide(),this.autoPlay&&this._play()},_setSlideWidth:function(e){this.children=this.$refs.slideGroup.children;for(var t=0,i=this.$refs.slide.clientWidth,s=0;s<this.children.length;s++){this.children[s].style.width=i+"px",t+=i}this.loop&&!e&&(t+=2*i),this.$refs.slideGroup.style.width=t+"px"},_initSlide:function(){var e=this;this.slide=new u.a(this.$refs.slide,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,click:this.click}),this.slide.on("scrollEnd",this._onScrollEnd),this.slide.on("touchEnd",function(){e.autoPlay&&e._play()}),this.slide.on("beforeScrollStart",function(){e.autoPlay&&clearTimeout(e.timer)})},_onScrollEnd:function(){var e=this.slide.getCurrentPage().pageX;this.currentPageIndex=e,this.autoPlay&&this._play()},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.slide.next()},this.interval)}},watch:{length:function(){this.update()},loop:function(){this.update()},autoPlay:function(){this.update()},speed:function(){this.update()},threshold:function(){this.update()}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"slide",staticClass:"slide"},[i("div",{ref:"slideGroup",staticClass:"slide-group"},[e._t("default")],2),e._v(" "),e.showDot?i("div",{staticClass:"dots"},e._l(e.dots,function(t,s){return i("span",{staticClass:"dot",class:{active:e.currentPageIndex===s}})})):e._e()])},staticRenderFns:[]};var y=i("VU/8")(b,g,!1,function(e){i("wRuc")},null,null).exports,T=i("gyMJ"),C=(i("LQde"),{props:{userId:{type:String,default:""}},data:function(){return{activeName:"first",reports:[],item:{},userApplyInfo:{},errorcode:"",productDesc:"",reportCurPage:1,reportTotalPage:0,lastPostY:0,autoPlay:!0,index:0,turnToPrev:!1,turnToNext:!1,isAutoPlay:!0,isLoop:!0,isShowDot:!0,speed:400,threshold:.3,interval:2e3,bannerCarousel:[]}},computed:{applySuccess:function(){return 1===parseInt(this.userApplyInfo.applyStatus,10)},isOverDeadLine:function(){return this.item.endTime<new Date},showAddressOrPostBtn:function(){var e=parseInt(this.userApplyInfo.applyStatus,10);return this.isOverDeadLine?1===e?{isShow:!0,btnText:"填写报告"}:e>=2?{isShow:!1,btnText:"已填报告"}:{isShow:!1,btnText:""}:-999===e?{isShow:!0,btnText:"马上申请"}:1===e?{isShow:!0,btnText:"填写报告"}:{isShow:!1,btnText:""}},expressContent:function(){var e=this.userApplyInfo,t=e.expressStatus,i=e.expressInfo,s=e.expressName,n=e.expressNo;return parseInt(t,10)&&s&&n?" "+s+" "+n:i}},components:{"self-header":f.a,"self-backtime":m,"el-button":d.a,"el-tabs":l.a,"el-tab-pane":r.a,"self-slide":y},methods:{_initScroll:function(){var e=this;this.scroll?this.scroll.refresh():(this.scroll=new u.a(this.$refs.productInfoWrapper,{click:!0,probeType:3}),this.scroll.on("touchEnd",function(t){"second"===e.activeName&&(e.reportCurPage!==e.reportTotalPage?Math.abs(t.y)-e.lastPostY>300&&(e.lastPostY=Math.abs(t.y),e.getReports()):console.log("没有报告了"))}))},_initData:function(){var e=this;Object(T.a)(this.itemId,this.userId).then(function(t){return e.errorcode=parseInt(t.data.errorcode,10),-1===e.errorcode?new Error("没有商品"):(e.item=t.data.item,e.bannerCarousel=e.item.itemDetailUrl.split(";"),e.userApplyInfo=e.userId?t.data.userApplyInfo:{applyStatus:"-999",applyInfo:"未申请",expressStatus:"0",expressInfo:"",expressName:"",expressNo:"",totalCoin:0,addressList:[{id:"",userName:"",address:"",telephone:""}]},e.item.detailPostId)}).then(function(e){return Object(T.c)(e,1)}).then(function(t){if(!t.data.content)return new Error("没有详情");if(-1!==t.data.content.indexOf("[img]")){var i=t.data.content.replace(/(jpeg|png|jpg|gif).*?(\[\/img\])/gi,"$1$2");i=i.replace(/\[img\]([^\[]*)\[\/img\]/gi,'<img src="$1" border="0" width="100%"/>'),e.productDesc=i}else e.productDesc=t.data.content}).catch(console.log)},goToAdressOrPost:function(e){e._constructed&&(this.userId?-999===parseInt(this.userApplyInfo.applyStatus,10)?this.$router.push({name:"Address",params:{itemId:this.itemId,addressList:this.userApplyInfo.addressList}}):1===parseInt(this.userApplyInfo.applyStatus,10)&&(window.location.href="jcnhers://list_post/groupId="+this.item.detailGroupId):window.app_interface&&window.app_interface.appLogin(0))},handleClick:function(e,t){"second"===e.name&&this.getReports()},getReports:function(){var e=this;Object(T.d)(this.item.detailTagId,this.reportCurPage).then(function(t){e.reportCurPage++,e.reportTotalPage=parseInt(t.data.totalPage,10),e.reports=[].concat(n()(e.reports),n()(t.data.postList))}).catch(console.log)},goToReport:function(){window.location.href="jcnhers://detail_post/postId="+this.item.detailPostId}},watch:{userId:function(){this._initData()}},created:function(){this.itemId=this.$route.params.productId,this.itemId&&this._initData()},mounted:function(){var e=this;this.$nextTick(function(){e._initScroll()})},activated:function(){}}),w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"product_info"},[i("self-header",{attrs:{headerTitle:"详情"}}),e._v(" "),i("div",{ref:"productInfoWrapper",staticClass:"product_info_wrapper"},[i("div",{staticClass:"productScrollContent"},[-1!==e.errorcode?i("div",{staticClass:"overview"},[i("self-slide",{ref:"slide",attrs:{autoPlay:e.isAutoPlay,length:e.bannerCarousel.length,loop:e.isLoop,showDot:e.isShowDot,interval:e.interval,threshold:e.threshold,speed:e.speed}},e._l(e.bannerCarousel,function(e){return i("div",{staticClass:"slide-item"},[i("img",{attrs:{src:e}})])})),e._v(" "),i("h3",{staticClass:"product_title"},[e._v(e._s(e.item.itemTitle))]),e._v(" "),i("div",{staticClass:"product_body"},[i("div",{staticClass:"info_1"},[i("span",{staticClass:"limit_num"},[e._v("限量："+e._s(e.item.stockNum)+"份")]),e._v(" "),i("span",[e._v("申请人数："+e._s(1*e.item.applyNum+1*e.item.eatMelonNum)+"人")])]),e._v(" "),i("div",{staticClass:"info_2 clearfix"},[e.item.endTime?i("self-backtime",{staticClass:"endtime",attrs:{endTime:e.item.endTime}}):e._e(),e._v(" "),i("router-link",{staticClass:"trail_rule_btn",attrs:{to:{name:"TrialRule"}}},[e._v("试用规则")])],1)]),e._v(" "),i("div",{staticClass:"apply_info"},[i("div",{staticClass:"apply_state",class:{apply_success:e.applySuccess}},[i("i",{staticClass:"icon_state"}),e._v(" "),i("span",[e._v("申请状态：")]),e._v(e._s(e.userApplyInfo.applyInfo)+"\n            "),e.applySuccess?i("span",{staticClass:"express_info"},[e._v("快递信息："+e._s(e.expressContent))]):e._e()]),e._v(" "),i("div",{staticClass:"write_post"},[e.userApplyInfo.applyStatus<0?i("span",[i("span",{staticClass:"deductCoin"},[e._v(e._s(e.item.deductCoin))]),e._v(" 金币")]):e._e(),e._v(" "),e.showAddressOrPostBtn.isShow?i("el-button",{staticClass:"write_post_btn",attrs:{type:"danger",round:""},on:{click:e.goToAdressOrPost}},[e._v("\n              "+e._s(e.showAddressOrPostBtn.btnText))]):e._e()],1)])],1):e._e(),e._v(" "),-1!==e.errorcode?i("div",{ref:"infoPost",staticClass:"info_post"},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"商品详情",name:"first"}},[i("div",{staticClass:"product_detail",domProps:{innerHTML:e._s(e.productDesc)}})]),e._v(" "),i("el-tab-pane",{attrs:{label:"试用报告",name:"second"}},[e.reports.length?i("ul",{staticClass:"post_list"},e._l(e.reports,function(t){return i("li",{on:{click:e.goToReport}},[i("p",[e._v(e._s(t.content))]),e._v(" "),t.picUrls.length?i("div",{staticClass:"img_wrapper clearfix"},e._l(t.picUrls,function(e){return i("div",{staticClass:"img_item"},[i("img",{attrs:{src:e,alt:""}})])})):e._e()])})):i("div",{staticClass:"no_post"},[e._v("暂时没有报告，小主等等再来看吧~")])])],1)],1):e._e(),e._v(" "),-1===e.errorcode?i("div",{staticClass:"no_product"},[e._v("\n        找不到商品\n      ")]):e._e()])])],1)},staticRenderFns:[]};var x=i("VU/8")(C,w,!1,function(e){i("VJbW")},null,null);t.default=x.exports},"3y1R":function(e,t){},DSCY:function(e,t){},IxJZ:function(e,t){},LaeV:function(e,t){e.exports=function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=275)}({0:function(e,t){e.exports=function(e,t,i,s,n,a){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var c,d="function"==typeof o?o.options:o;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),n&&(d._scopeId=n),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,f=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:o,options:d}}},275:function(e,t,i){e.exports=i(276)},276:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i(277),a=(s=n)&&s.__esModule?s:{default:s};a.default.install=function(e){e.component(a.default.name,a.default)},t.default=a.default},277:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(278),n=i.n(s),a=i(279),r=i(0)(n.a,a.a,!1,null,null,null);t.default=r.exports},278:function(e,t,i){"use strict";t.__esModule=!0,t.default={name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean},data:function(){return{index:null}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){return this.$parent.currentName===(this.name||this.index)},paneName:function(){return this.name||this.index}},mounted:function(){this.$parent.addPanes(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$parent.removePanes(this)},watch:{label:function(){this.$parent.$forceUpdate()}}}},279:function(e,t,i){"use strict";var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!this.active,id:"pane-"+this.paneName,"aria-labelledby":"tab-"+this.paneName}},[this._t("default")],2)},staticRenderFns:[]};t.a=s}})},NoPp:function(e,t,i){e.exports=function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=266)}({0:function(e,t){e.exports=function(e,t,i,s,n,a){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var c,d="function"==typeof o?o.options:o;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),n&&(d._scopeId=n),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,f=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:o,options:d}}},19:function(e,t){e.exports=i("02w1")},266:function(e,t,i){e.exports=i(267)},267:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i(268),a=(s=n)&&s.__esModule?s:{default:s};a.default.install=function(e){e.component(a.default.name,a.default)},t.default=a.default},268:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(269),n=i.n(s),a=i(0)(n.a,null,!1,null,null,null);t.default=a.exports},269:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i(270),a=(s=n)&&s.__esModule?s:{default:s};t.default={name:"ElTabs",components:{TabNav:a.default},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"}},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(e){this.setCurrentName(e)},value:function(e){this.setCurrentName(e)},currentName:function(e){var t=this;this.$refs.nav&&this.$nextTick(function(e){t.$refs.nav.scrollToActiveTab()})}},methods:{handleTabClick:function(e,t,i){e.disabled||(this.setCurrentName(t),this.$emit("tab-click",e,i))},handleTabRemove:function(e,t){e.disabled||(t.stopPropagation(),this.$emit("edit",e.name,"remove"),this.$emit("tab-remove",e.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(e){this.currentName=e,this.$emit("input",e)},addPanes:function(e){var t=this.$slots.default.filter(function(e){return 1===e.elm.nodeType&&/\bel-tab-pane\b/.test(e.elm.className)}).indexOf(e.$vnode);this.panes.splice(t,0,e)},removePanes:function(e){var t=this.panes,i=t.indexOf(e);i>-1&&t.splice(i,1)}},render:function(e){var t,i=this.type,s=this.handleTabClick,n=this.handleTabRemove,a=this.handleTabAdd,r=this.currentName,o=this.panes,l=this.editable,c=this.addable,d=this.tabPosition,u=e("div",{class:["el-tabs__header","is-"+d]},[l||c?e("span",{class:"el-tabs__new-tab",on:{click:a,keydown:function(e){13===e.keyCode&&a()}},attrs:{tabindex:"0"}},[e("i",{class:"el-icon-plus"},[])]):null,e("tab-nav",{props:{currentName:r,onTabClick:s,onTabRemove:n,editable:l,type:i,panes:o},ref:"nav"},[])]),f=e("div",{class:"el-tabs__content"},[this.$slots.default]);return e("div",{class:(t={"el-tabs":!0,"el-tabs--card":"card"===i},t["el-tabs--"+d]=!0,t["el-tabs--border-card"]="border-card"===i,t)},["bottom"!==d?[u,f]:[f,u]])},created:function(){this.currentName||this.setCurrentName("0")}}},270:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(271),n=i.n(s),a=i(0)(n.a,null,!1,null,null,null);t.default=a.exports},271:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i(272),a=(s=n)&&s.__esModule?s:{default:s},r=i(19);function o(){}var l=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})};t.default={name:"TabNav",components:{TabBar:a.default},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:o},onTabRemove:{type:Function,default:o},type:String},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var e=this.$refs.navScroll["offset"+l(this.sizeName)],t=this.navOffset;if(t){var i=t>e?t-e:0;this.navOffset=i}},scrollNext:function(){var e=this.$refs.nav["offset"+l(this.sizeName)],t=this.$refs.navScroll["offset"+l(this.sizeName)],i=this.navOffset;if(!(e-i<=t)){var s=e-i>2*t?i+t:e-t;this.navOffset=s}},scrollToActiveTab:function(){if(this.scrollable){var e=this.$refs.nav,t=this.$el.querySelector(".is-active"),i=this.$refs.navScroll,s=t.getBoundingClientRect(),n=i.getBoundingClientRect(),a=e.getBoundingClientRect(),r=this.navOffset,o=r;s.left<n.left&&(o=r-(n.left-s.left)),s.right>n.right&&(o=r+s.right-n.right),a.right<n.right&&(o=e.offsetWidth-n.width),this.navOffset=Math.max(o,0)}},update:function(){if(this.$refs.nav){var e=this.sizeName,t=this.$refs.nav["offset"+l(e)],i=this.$refs.navScroll["offset"+l(e)],s=this.navOffset;if(i<t){var n=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=n,this.scrollable.next=n+i<t,t-n<i&&(this.navOffset=t-i)}else this.scrollable=!1,s>0&&(this.navOffset=0)}},changeTab:function(e){var t=e.keyCode,i=void 0,s=void 0,n=void 0;-1!==[37,38,39,40].indexOf(t)&&(n=e.currentTarget.querySelectorAll("[role=tab]"),s=Array.prototype.indexOf.call(n,e.target),n[i=37===t||38===t?0===s?n.length-1:s-1:s<n.length-1?s+1:0].focus(),n[i].click())},setFocus:function(){this.isFocus=!0},removeFocus:function(){this.isFocus=!1}},updated:function(){this.update()},render:function(e){var t=this,i=this.type,s=this.panes,n=this.editable,a=this.onTabClick,r=this.onTabRemove,o=this.navStyle,l=this.scrollable,c=this.scrollNext,d=this.scrollPrev,u=this.changeTab,f=this.setFocus,h=this.removeFocus,p=l?[e("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],on:{click:d}},[e("i",{class:"el-icon-arrow-left"},[])]),e("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],on:{click:c}},[e("i",{class:"el-icon-arrow-right"},[])])]:null,_=this._l(s,function(i,s){var o,l=i.name||i.index||s,c=i.isClosable||n;i.index=""+s;var d=c?e("span",{class:"el-icon-close",on:{click:function(e){r(i,e)}}},[]):null,u=i.$slots.label||i.label,p=i.active?0:-1;return e("div",{class:(o={"el-tabs__item":!0},o["is-"+t.rootTabs.tabPosition]=!0,o["is-active"]=i.active,o["is-disabled"]=i.disabled,o["is-closable"]=c,o["is-focus"]=t.isFocus,o),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":i.active,tabindex:p},ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){h()},click:function(e){h(),a(i,l,e)},keydown:function(e){!c||46!==e.keyCode&&8!==e.keyCode||r(i,e)}}},[u,d])});return e("div",{class:["el-tabs__nav-wrap",l?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[p,e("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[e("div",{class:"el-tabs__nav",ref:"nav",style:o,attrs:{role:"tablist"},on:{keydown:u}},[i?null:e("tab-bar",{attrs:{tabs:s}},[]),_])])])},mounted:function(){(0,r.addResizeListener)(this.$el,this.update)},beforeDestroy:function(){this.$el&&this.update&&(0,r.removeResizeListener)(this.$el,this.update)}}},272:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(273),n=i.n(s),a=i(274),r=i(0)(n.a,a.a,!1,null,null,null);t.default=r.exports},273:function(e,t,i){"use strict";t.__esModule=!0,t.default={name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{cache:!1,get:function(){var e=this;if(!this.$parent.$refs.tabs)return{};var t={},i=0,s=0,n=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",a="width"===n?"x":"y",r=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})};this.tabs.every(function(t,a){var o=e.$parent.$refs.tabs[a];return!!o&&(t.active?(s=o["client"+r(n)],"width"===n&&e.tabs.length>1&&(s-=0===a||a===e.tabs.length-1?20:40),!1):(i+=o["client"+r(n)],!0))}),"width"===n&&0!==i&&(i+=20);var o="translate"+r(a)+"("+i+"px)";return t[n]=s+"px",t.transform=o,t.msTransform=o,t.webkitTransform=o,t}}}}},274:function(e,t,i){"use strict";var s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})},staticRenderFns:[]};t.a=s}})},VJbW:function(e,t){},wRuc:function(e,t){}});
//# sourceMappingURL=3.df99848e9366905dd7db.js.map